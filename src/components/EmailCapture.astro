---
interface Props {
  /** Mailchimp form action URL */
  action?: string;
  /** Mailchimp honeypot field name (Mailchimp gives you this) */
  honeypotName?: string;
  /** CTA text */
  cta?: string;
  /** Small helper text under the form */
  helper?: string;
}

const {
  action = "https://YOUR-DATACENTER.api.mailchimp.com/subscribe/post?u=YOUR_U&amp;id=YOUR_ID",
  honeypotName = "b_YOUR_U_YOUR_ID",
  cta = "Join the list",
  helper = "Weâ€™ll send occasional updates about new docs and platform changes.",
} = Astro.props;
---

<form
  class="mt-8 max-w-md mx-auto flex flex-col sm:flex-row gap-3 relative"
  action={action}
  method="post"
  noValidate
>
  <label class="sr-only" for="mce-EMAIL">Email address</label>
  <input
    id="mce-EMAIL"
    name="EMAIL"
    type="email"
    required
    autocomplete="email"
    placeholder="you@example.com"
    class="flex-1 rounded-lg bg-slate-900/60 border border-slate-700 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500"
  />
  <button
    type="submit"
    class="rounded-lg bg-slate-100 text-slate-900 px-4 py-2 text-sm font-semibold hover:bg-white transition"
  >
    {cta}
  </button>

  <div
    aria-hidden="true"
    style="position: absolute; left: -5000px;"
  >
    <input
      type="text"
      name={honeypotName}
      tabIndex="-1"
      value=""
      autoComplete="off"
    />
  </div>

</form>

{helper && (
  <p class="mt-3 text-xs text-slate-500 text-center max-w-md mx-auto">
    {helper}
  </p>
)}
